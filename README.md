    BOOKING

    ОПИСАНИЕ ПРОЕКТА:
Booking — это проект Django REST API для управления отелями, номерами, пользователями и бронированиями. Он позволяет пользователям регистрироваться, просматривать отели и номера, а также создавать бронирования для доступных номеров.

    ДЛЯ ЗАПУСКА ВАМ ПОТРЕБУЮТСЯ:
1. Python 3.12+
2. Менеджер пакетов pip
3. Virtualenv

    УСТАНОВКА И НАСТРОЙКА:
1) Клонировать репозиторий:
 git clone https://github.com/SIberianBears/booking.git
 cd booking

2)  Создать и активировать виртуальную среду:
  
    macOS/Linux:
 python3 -m venv venv
 source venv/bin/activate

    Windows:
 python -m venv venv
 venv\Scripts\activate

3) Установить зависимости:
 
 pip install -r requirements.txt

4) Применить миграции:
 
 python manage.py migrate

5) Запустить сервер:
 
 python manage.py runserver

    ОСНОВНЫЕ API ЭНДПОИНТЫ:

 В проекте реализованы REST API для управления пользователями, отелями, номерами и бронированиями. Все эндпоинты построены с использованием Django REST Framework и зарегистрированы через роутер:

/users/ — управление пользователями (POST, GET)

/hotels/ — управление отелями (CRUD)

/rooms/ — управление номерами (CRUD)

/bookings/ — управление бронированиями (CRUD)

/hotels/{id}/rooms/ — список свободных номеров в отеле

    Порядок вызова API:
Регистрация пользователя
POST /users/
Создаёт нового пользователя.

    Создание отеля:
POST /hotels/
Создаёт новый отель.

    Добавление номера в отель:
POST /rooms/
Привязывает номер к отелю.

    Получение свободных номеров в отеле:
GET /hotels/{id}/rooms/
Возвращает список свободных номеров в выбранном отеле.

    Бронирование номера:
POST /bookings/
Создаёт запись о бронировании для пользователя и номера.

    Примеры JSON-запросов и ответов
    Регистрация пользователя (POST /users/):

json
{
  "username": "ivan",
  "email": "ivan@example.com",
  "password": "secret123"
}
Ответ:

json
{
  "username": "ivan",
  "email": "ivan@example.com"
}

    Создание отеля (POST /hotels/):

json
{
  "name": "Отель Москва"
}
Ответ:

json
{
  "id": 1,
  "name": "Отель Москва"
}

    Добавление номера (POST /rooms/):

json
{
  "num": 101,
  "hotel": 1
}
Ответ:

json
{
  "id": 1,
  "num": 101,
  "hotel": 1
}

    Бронирование номера (POST /bookings/):

json
{
  "room": 1,
  "user": 1
}
Ответ:

json
{
  "id": 1,
  "room": 1,
  "user": 1
}

    ВАЛИДАЦИЯ
    
    Пользователь:

username — уникальный, до 128 символов

email — уникальный, формат email

password — от 6 до 20 символов

    Отель:

name — строка до 128 символов

    Номер:

num — положительное целое число

hotel — ID существующего отеля

    Бронирование:

room — ID существующего номера

user — ID существующего пользователя

Все поля проходят валидацию сериализаторами Django REST Framework. Для пользователя дополнительно используются валидаторы уникальности для username и email.

    ГДЕ ТЕСТИРОВАТЬ
    Локально:

Используйте встроенный Django тестовый сервер (python manage.py runserver) и инструменты вроде Postman или curl.

    Автоматизированные тесты:

Реализованы в файле tests.py, можно запускать через python manage.py test.

    Swagger/OpenAPI:

Для удобства тестирования рекомендуется добавить drf-yasg или другой генератор документации.

    Рекомендуемый порядок тестирования:

Зарегистрировать пользователя

Создать отель

Добавить номер

Получить свободные номера

Забронировать номер

Это гарантирует корректную работу всех связей и валидаций между сущностями



 

